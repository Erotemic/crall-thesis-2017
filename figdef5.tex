
\begin{comment}
python -m ibeis.scripts.specialdraw draw_graph_id \
    --dpath ~/latex/crall-thesis-2017/ --save "figures5/decisiongraph.jpg" \
    --figsize=12,8 --clipwhite --dpi=300 --diskshow
\end{comment}
\newcommand{\decisiongraph}{
\begin{figure}[t]
\centering
\includegraphics[width=\textwidth]{figures5/decisiongraph.jpg}
\caption[A synthetic decision graph]{\caplbl{decisiongraph}
% ---
An example of a consistent synthetic decision graph with positive,
  negative, and incomparable edges.
The color of each node represents the positive connected component (PCC)
  it belongs to.
% ---
}
\label{fig:decisiongraph}
\end{figure}
}





\begin{comment}
python -m ibeis.scripts.specialdraw draw_inconsistent_pcc --show
python -m ibeis.scripts.specialdraw draw_inconsistent_pcc \
    --dpath ~/latex/crall-thesis-2017/ --save "figures5/inconpcc.jpg" \
    --figsize=15,10 --clipwhite --dpi=300 --diskshow --saveparts
\end{comment}
%\MultiImageCommandII{inconpcc}{.4}{inconpcc}{
%}{figures5/inconpccA.jpg}{figures5/inconpccB.jpg}
\newcommand{\inconpcc}{
\begin{figure}[ht!]
\centering
\begin{subfigure}[h]{0.4\textwidth}\centering\includegraphics[width=\textwidth]{figures5/inconpccA.jpg}\caption{}\label{sub:inconpccA}\end{subfigure}
~~% --
\begin{subfigure}[h]{0.4\textwidth}\centering\includegraphics[width=\textwidth]{figures5/inconpccB.jpg}\caption{}\label{sub:inconpccB}\end{subfigure}
\caption[An inconsistent PCC]{\caplbl{inconpcc}
% ---
Any PCC containing at least one negative edge is inconsistent.
Subfigure \Cref{sub:inconpccA} shows an inconsistent PCC, and
\Cref{sub:inconpccB} shows the same PCC where the edges hypothesized to be
errors are highlighted.
% ---
}
\label{fig:inconpcc}
\end{figure}
}



  


\begin{comment}
python -m ibeis.scripts.specialdraw redun_demo2 --show
python -m ibeis.scripts.specialdraw redun_demo2 \
    --dpath ~/latex/crall-thesis-2017/ --save "figures5/kredun.jpg" \
    --figsize=10,5 --clipwhite --dpi=300 --saveparts --diskshow
\end{comment}
\newcommand{\kredun}{
\begin{figure}[h]
\centering
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunA.jpg}\caption{}\label{sub:kredunA}\end{subfigure}
~~% --
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunB.jpg}\caption{}\label{sub:kredunB}\end{subfigure}
~~%--
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunC.jpg}\caption{}\label{sub:kredunC}\end{subfigure}
~~%--
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunD.jpg}\caption{}\label{sub:kredunD}\end{subfigure}
~~%--
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunE.jpg}\caption{}\label{sub:kredunE}\end{subfigure}
~~%--
\begin{subfigure}[h]{0.31\textwidth}\centering\includegraphics[width=\textwidth]{figures5/kredunF.jpg}\caption{}\label{sub:kredunF}\end{subfigure}
\caption[Examples of $k$-redundant PCCs]{\caplbl{kredun}
%--%
Examples of positive (top) and negative (bottom) redundancy.
The positive edges are colored blue and the negative edges are colored red.
Choosing the level of redundancy is a trade-off between the number of required
  reviews and the confidence that the reviews are correct.
%In our current implementation we use $2$-redundancy.
%
} \label{fig:kredun}
\end{figure}
}



\begin{comment}
python -m ibeis.viz.viz_chip HARDCODE_SHOW_PB_PAIR --db PZ_Master1 --has_any=photobomb --index=1 --match \
    --dpath ~/latex/crall-thesis-2017/ --save "figures5/PhotobombExampleC.jpg" \
    --figsize=9,4 --clipwhite --dpi=180 --save

python -m ibeis.viz.viz_chip HARDCODE_SHOW_PB_PAIR --db PZ_Master1 --has_any=photobomb --index=1 \
    --dpath ~/latex/crall-thesis-2017/ --save "figures5/PhotobombExample.jpg" \
    --figsize=9,4 --clipwhite --dpi=300 --saveparts

python -m ibeis.core_annots --test-compute_one_vs_one --show
    
\end{comment}

\newcommand{\PhotobombExample}{
\begin{figure}[h]
\centering
\begin{subfigure}[h]{0.4\textwidth} \centering \includegraphics[height=100pt]{figures5/PhotobombExampleA.jpg}\caption{}\label{sub:PhotobombExampleA} \end{subfigure}
\begin{subfigure}[h]{0.4\textwidth} \centering \includegraphics[height=100pt]{figures5/PhotobombExampleB.jpg}\caption{}\label{sub:PhotobombExampleB} \end{subfigure}
%\begin{subfigure}[h]{0.5\textwidth}
%\centering
%\includegraphics[height=60pt]{figures/PhotobombExampleC.jpg}\caption{}\label{sub:PhotobombExampleC}
%\end{subfigure}
\caption[\caplbl{PhotobombExample}Photobomb example]{\caplbl{PhotobombExample}
% ---
A secondary animal in an annotation can cause a ``photobomb''.  Notice the
primary animal in~\cref{sub:PhotobombExampleA} appears in the background
of~\cref{sub:PhotobombExampleB}. 
%The matching regions are displayed in~\cref{sub:PhotobombExampleC}.
% ---
}
\label{fig:PhotobombExample}
\end{figure}
}



\begin{comment}
python -m ibeis.algo.graph.mixin_loops prob_any_remain --num_pccs=40 --size=2 --patience=20 --window=20 --dpi=300 --figsize=7.4375,3.0 '--dpath=~/latex/crall-thesis-2017' --save=figures5/poisson.png --diskshow
\end{comment}
\newcommand{\poisson}{
\begin{figure}[h]
    %
    \centering
    \includegraphics[width=\textwidth]{figures5/poisson.png}
    \caption[The convergence criteria on a synthetic dataset]{\caplbl{poisson}
    %--
    The convergence criteria applied to a synthetic dataset with $40$ names and $2$ annotations per name.
    The red line indicates the fraction of meaningful reviews that remain undiscovered.
    The blue line is the probability that at least one of the next $20$ reviews will be meaningful.
    Notice that the blue line dips when the red line flattens.
    The process terminates once this probability drops below a threshold,
    denoted by the green dotted line.
    %--
} \label{fig:poisson}
\end{figure}
}


\begin{comment}
python -m ibeis Chap5.measure_simulation --db GZ_Master1 --show
python -m ibeis Chap5.measure_simulation --db PZ_Master1 --show

python -m ibeis Chap5.draw_simulation --db PZ_Master1 --diskshow
python -m ibeis Chap5.draw_simulation --db GZ_Master1 --diskshow
\end{comment}
\newcommand{\Simulation}{
\begin{figure}[t]
\centering
\begin{subfigure}[h]{\textwidth}\centering\includegraphics[width=\textwidth]{figuresGraph/PZ_Master1/simulation.png}\caption{Plains zebra}\end{subfigure}
~
\begin{subfigure}[h]{\textwidth}\centering\includegraphics[width=\textwidth]{figuresGraph/GZ_Master1/simulation.png}\caption{Grévy's zebra}\end{subfigure}
\caption[\caplbl{Simulation}Simulation experiment]{\caplbl{Simulation}
% ---
The user simulation experiment compares the three identification algorithms defined in this \thesis{}.
On the left indicates the identification accuracy using the number of remaining merges and the right counts the
  number of errors made (lower is better in both cases).
The best results are clearly achieved by \pvar{graph}.
% ---
}
\label{fig:Simulation}
\end{figure}
}


\begin{comment}
python -m ibeis Chap5.draw_refresh --db GZ_Master1 --diskshow
python -m ibeis Chap5.draw_refresh --db PZ_Master1 --diskshow
\end{comment}
\newcommand{\Refresh}{
\begin{figure}[ht]
\centering
\begin{subfigure}[h]{\textwidth}\centering\includegraphics[width=\textwidth]{figuresGraph/PZ_Master1/refresh.png}\caption{Plains zebra}\end{subfigure}
~
\begin{subfigure}[h]{\textwidth}\centering\includegraphics[width=\textwidth]{figuresGraph/GZ_Master1/refresh.png}\caption{Grévy's zebra}\end{subfigure}
\caption[\caplbl{Refresh}Measured refresh and termination probabilities]{\caplbl{Refresh}
% ---
The measured refresh and termination criteria.
The probability that the next reviews will be meaningful ($\Pr{T\teq1}$) is high while new merges are discovered.
Once the probability falls under the threshold, positive redundancy is enforced (the flat areas) on existing
  PCCs, and then candidate edges are recomputed.
After an iteration with no meaningful reviews, the process terminates.
Identification converges in $3$ iterations for plains zebras and $3$ for Grevy's.
% ---
}
\label{fig:Refresh}
\end{figure}
}




    \begin{comment}
    python -m ibeis Chap5.print_measures --db GZ_Master1 --diskshow
    python -m ibeis Chap5.print_measures --db PZ_Master1 --diskshow
    \end{comment}


\newcommand{\SimDetails}{
\begin{table}[h]
    \centering
\caption[\caplbl{SimDetails}Simulation error details]{\caplbl{SimDetails} 
% ---
Detailed analysis of the errors for the simulations.
We compare statistics the predicted PCCs with statistics of the real ground-truth PCCs.
In each category ``pred \#'' is the number of predicted PCCs and ``pred size'' is the average number of
  annotations in those PCCs (measured as mean and standard deviation).
The ``real \# PCCs'' and ``real size'' columns are similarly defined.
Lastly, the ``small size'' and ``large size'' columns are the average size of the smallest and largest PCCs in
  each error group.
%The sum of the importance for all $205$ feature dimensions is $1$.
% ---
}
\label{tbl:SimDetails}
    \begin{subfigure}[h]{\textwidth}\centering\input{figuresGraph/PZ_Master1/error_size.tex}\caption{Plains zebra}\end{subfigure}
    \begin{subfigure}[h]{\textwidth}\centering\input{figuresGraph/GZ_Master1/error_size.tex}\caption{Grévy's zebra}\end{subfigure}
\end{table}
}
